const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/StoreFront-C5ZZjpDe.js","assets/vendor-CfrxxlCL.js","assets/About-oG3qYndo.js","assets/LoginPage-gx77Phc6.js","assets/AdminPanel-C9fXgDs3.js","assets/Information-y16NJXGb.js"])))=>i.map(i=>d[i]);
import{c as F,r as x,j as e,H as R,u as z,a as I,L as c,F as C,b as k,d as _,e as E,f as L,g as M,S,X as A,M as $,P as q,N as U,R as J,h as b,_ as N,Q as G,i as H,k as K,l as Q,m as V}from"./vendor-CfrxxlCL.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))d(t);new MutationObserver(t=>{for(const a of t)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&d(i)}).observe(document,{childList:!0,subtree:!0});function o(t){const a={};return t.integrity&&(a.integrity=t.integrity),t.referrerPolicy&&(a.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?a.credentials="include":t.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function d(t){if(t.ep)return;t.ep=!0;const a=o(t);fetch(t.href,a)}})();const W="https://qpxjmkwebtehwbxbsefs.supabase.co",D="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InFweGpta3dlYnRlaHdieGJzZWZzIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzY2MTYxNjgsImV4cCI6MjA1MjE5MjE2OH0.p4ucPBRNkK6oKPblq28DKpk8SyuugESfhFohJoPGyBQ",w=F(W,D,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0}}),O=x.createContext({session:null,loading:!0,logout:async()=>{}});function B({children:s}){const[r,o]=x.useState(null),[d,t]=x.useState(!0),a=async()=>{try{const{error:i}=await w.auth.signOut();if(i)throw console.error("Error al cerrar sesión:",i),i;o(null)}catch(i){throw console.error("Error al cerrar sesión:",i),i}};return x.useEffect(()=>{(async()=>{try{const{data:{session:n}}=await w.auth.getSession();o(n)}catch(n){console.error("Error al obtener la sesión:",n)}finally{t(!1)}})();const{data:{subscription:m}}=w.auth.onAuthStateChange((n,f)=>{o(f),t(!1)});return()=>{m.unsubscribe()}},[]),e.jsx(O.Provider,{value:{session:r,loading:d,logout:a},children:s})}function P(){const s=x.useContext(O);if(s===void 0)throw new Error("useAuth must be used within an AuthProvider");return s}const T=x.createContext(void 0);function Y({children:s}){const[r,o]=x.useState([]),[d,t]=x.useState(!1),a=(l,u=1)=>{o(h=>{const g=h.find(p=>p.product.id===l.id);if(g){const p=g.quantity+u;return p>l.stock?h:h.map(y=>y.product.id===l.id?{...y,quantity:Math.min(p,l.stock)}:y)}return[...h,{product:l,quantity:u}]}),t(!0)},i=a,m=l=>{o(u=>u.filter(h=>h.product.id!==l))},n=(l,u)=>{u<1||o(h=>{const g=h.find(p=>p.product.id===l);return!g||u>g.product.stock?h:h.map(p=>p.product.id===l?{...p,quantity:u}:p)})},f=()=>{o([]),t(!1)},j=r.reduce((l,u)=>l+u.product.price*u.quantity,0);return e.jsx(T.Provider,{value:{items:r,addItem:a,addToCart:i,removeItem:m,updateQuantity:n,clearCart:f,total:j,isOpen:d,setIsOpen:t},children:s})}function Z(){const s=x.useContext(T);if(s===void 0)throw new Error("useCart must be used within a CartProvider");return s}function X({title:s,description:r,image:o,url:d}){const t="Gatotaku - Tu Tienda de Anime",a=s===t?s:`${s} | ${t}`,i="logo.png",m="";return e.jsxs(R,{children:[e.jsx("title",{children:a}),e.jsx("meta",{name:"description",content:r}),e.jsx("meta",{property:"og:type",content:"website"}),e.jsx("meta",{property:"og:title",content:a}),e.jsx("meta",{property:"og:description",content:r}),e.jsx("meta",{property:"og:image",content:o||i}),e.jsx("meta",{property:"og:url",content:d||m}),e.jsx("meta",{name:"twitter:card",content:"summary_large_image"}),e.jsx("meta",{name:"twitter:title",content:a}),e.jsx("meta",{name:"twitter:description",content:r}),e.jsx("meta",{name:"twitter:image",content:o||i}),e.jsx("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0"}),e.jsx("meta",{name:"theme-color",content:"#f97316"})," ",e.jsx("link",{rel:"canonical",href:d||m})]})}const ee=()=>{const[s,r]=x.useState(!1),{session:o,logout:d}=P(),t=z(),a=I(),i=()=>{r(!s)},m=async()=>{try{await d(),t("/")}catch(j){console.error("Error al cerrar sesión:",j)}},f="https://wa.me/+50578364365";return e.jsxs("header",{className:"bg-black text-white sticky top-0 z-50",children:[e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"flex justify-between items-center h-16",children:[e.jsxs(c,{to:"/",className:"flex items-center",onClick:()=>{window.dispatchEvent(new CustomEvent("reset-store-filters"))},children:[e.jsx("img",{src:"./logo.png",alt:"Logo",className:"w-12 h-12 rounded-full"}),e.jsx("span",{className:"ml-3 text-2xl md:text-3xl font-black tracking-wide text-white",style:{fontFamily:"Poppins",textShadow:"2px 2px 4px rgba(0, 0, 0, 0.3)"},children:"GATOTAKU"})]}),e.jsxs("nav",{className:"hidden md:flex items-center space-x-8",children:[e.jsxs(c,{to:"/",className:"relative group",children:[e.jsx("span",{className:"hover:text-gray-300",children:"Catálogo"}),e.jsx("span",{className:"absolute bottom-0 left-0 w-full h-0.5 bg-orange-500 transform scale-x-0 transition-transform group-hover:scale-x-100"})]}),e.jsxs(c,{to:"/about",className:"relative group",children:[e.jsx("span",{className:"hover:text-gray-300",children:"Sobre Nosotros"}),e.jsx("span",{className:"absolute bottom-0 left-0 w-full h-0.5 bg-orange-500 transform scale-x-0 transition-transform group-hover:scale-x-100"})]}),e.jsxs(c,{to:"/information",className:"relative group",children:[e.jsx("span",{className:"hover:text-gray-300",children:"Información"}),e.jsx("span",{className:"absolute bottom-0 left-0 w-full h-0.5 bg-orange-500 transform scale-x-0 transition-transform group-hover:scale-x-100"})]}),e.jsxs("a",{href:f,target:"_blank",rel:"noopener noreferrer",className:"relative group flex items-center",children:[e.jsxs("span",{className:"hover:text-gray-300 flex items-center",children:[e.jsx(C,{className:"mr-2"}),"WhatsApp"]}),e.jsx("span",{className:"absolute bottom-0 left-0 w-full h-0.5 bg-orange-500 transform scale-x-0 transition-transform group-hover:scale-x-100"})]}),e.jsx(c,{to:"/cart",className:"hover:text-orange-500 transition-colors",children:e.jsx(k,{className:"text-2xl"})}),o&&e.jsx(c,{to:"/admin",className:"hover:text-orange-500 transition-colors",children:e.jsx(_,{className:"text-2xl"})}),a.pathname==="/admin"&&o&&e.jsx("button",{onClick:m,className:"hover:text-orange-500 transition-colors flex items-center",title:"Cerrar sesión",children:e.jsx(E,{className:"text-2xl"})})]}),e.jsx("button",{onClick:i,className:"md:hidden text-white focus:outline-none",children:s?e.jsx(L,{size:24}):e.jsx(M,{size:24})})]}),s&&e.jsx("div",{className:"md:hidden py-4",children:e.jsxs("div",{className:"flex flex-col space-y-4",children:[e.jsx(c,{to:"/",className:"text-white hover:text-orange-500 transition-colors",onClick:()=>r(!1),children:"Catálogo"}),e.jsx(c,{to:"/about",className:"text-white hover:text-orange-500 transition-colors",onClick:()=>r(!1),children:"Sobre Nosotros"}),e.jsx(c,{to:"/information",className:"text-white hover:text-orange-500 transition-colors",onClick:()=>r(!1),children:"Información"}),e.jsxs("a",{href:f,target:"_blank",rel:"noopener noreferrer",className:"text-white hover:text-orange-500 transition-colors flex items-center",onClick:()=>r(!1),children:[e.jsx(C,{className:"mr-2"}),"WhatsApp"]}),o&&e.jsxs(c,{to:"/admin",className:"text-white hover:text-orange-500 transition-colors flex items-center",onClick:()=>r(!1),children:[e.jsx(_,{className:"mr-2"}),"Panel de Admin"]}),a.pathname==="/admin"&&o&&e.jsxs("button",{onClick:m,className:"text-white hover:text-orange-500 transition-colors flex items-center",children:[e.jsx(E,{className:"mr-2"}),"Cerrar Sesión"]})]})})]}),e.jsx("div",{className:"fixed bottom-4 right-4 md:hidden z-50 bg-orange-500 rounded-full p-3 shadow-lg hover:bg-orange-600 transition-colors",children:e.jsx(c,{to:"/cart",children:e.jsx(k,{className:"text-white text-2xl"})})})]})},se=()=>{const s="+50578364365",r=`https://wa.me/${s}`;return e.jsx("footer",{className:"bg-black text-white mt-12 relative z-50",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:e.jsxs("div",{className:"flex flex-col items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("img",{src:"./logo.png",alt:"Logo",className:"w-10 h-10 rounded-full"}),e.jsx("span",{className:"text-3xl font-black tracking-wider",style:{fontFamily:"'Poppins', sans-serif"},children:"GATOTAKU"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 w-full max-w-4xl",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Enlaces Rápidos"}),e.jsxs("ul",{className:"space-y-2",children:[e.jsx("li",{children:e.jsx(c,{to:"/",className:"hover:text-gray-300",children:"Inicio"})}),e.jsx("li",{children:e.jsx(c,{to:"/about",className:"hover:text-gray-300",children:"Sobre Nosotros"})}),e.jsx("li",{children:e.jsxs("a",{href:r,target:"_blank",rel:"noopener noreferrer",className:"flex items-center hover:text-gray-300",children:[e.jsx(C,{className:"mr-2"}),"Contáctenos"]})})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Información"}),e.jsxs("ul",{className:"space-y-2",children:[e.jsx("li",{children:e.jsx(c,{to:"/information/payment-methods",className:"hover:text-gray-300",children:"Métodos de pago"})}),e.jsx("li",{children:e.jsx(c,{to:"/information/shipping",className:"hover:text-gray-300",children:"Envíos"})}),e.jsx("li",{children:e.jsx(c,{to:"/information/refunds",className:"hover:text-gray-300",children:"Reembolsos"})})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Contacto"}),e.jsxs("ul",{className:"space-y-2",children:[e.jsxs("li",{children:["WhatsApp: ",s]}),e.jsx("li",{children:"Email: gatotaku2022@gmail.com"})]})]})]})]})})})};function te(){const{items:s,removeItem:r,updateQuantity:o,total:d,isOpen:t,setIsOpen:a,clearCart:i}=Z();I();const m=()=>{const n=s.map(l=>`• ${l.quantity}x ${l.product.name} - C$${(l.product.price*l.quantity).toFixed(2)}`).join(`
`),f=`

Total: C$${d.toFixed(2)}`,j=encodeURIComponent(`¡Hola! Me gustaría ordenar:
${n}${f}`);window.open(`https://wa.me/50578364365?text=${j}`,"_blank"),i()};return e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>a(!0),className:"fixed bottom-4 right-4 z-50 bg-black text-white p-3 rounded-full shadow-lg hover:bg-gray-900 transition-colors","aria-label":"Abrir carrito",children:e.jsxs("div",{className:"relative",children:[e.jsx(S,{size:24}),s.length>0&&e.jsx("span",{className:"absolute -top-2 -right-2 bg-red-500 text-white text-xs w-5 h-5 rounded-full flex items-center justify-center",children:s.length})]})}),t&&e.jsxs("div",{className:"fixed inset-0 z-[100] overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50",onClick:()=>a(!1)}),e.jsx("div",{className:"fixed inset-y-0 right-0 max-w-full flex",children:e.jsx("div",{className:"w-screen max-w-md",children:e.jsxs("div",{className:"h-full flex flex-col bg-white shadow-xl",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 border-b",children:[e.jsxs("h2",{className:"text-xl font-bold flex items-center",children:[e.jsx(S,{className:"mr-2"}),"Carrito de Compras"]}),e.jsx("button",{onClick:()=>a(!1),className:"p-2 hover:bg-gray-100 rounded-full","aria-label":"Cerrar carrito",children:e.jsx(A,{})})]}),e.jsx("div",{className:"flex-grow overflow-y-auto p-4",children:s.length===0?e.jsx("p",{className:"text-center text-gray-500",children:"Tu carrito está vacío"}):s.map(n=>e.jsxs("div",{className:"flex items-center justify-between border-b py-2",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("img",{src:n.product.images[0],alt:n.product.name,className:"w-16 h-16 object-cover mr-4"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold",children:n.product.name}),e.jsxs("p",{children:["C$",n.product.price.toFixed(2)]})]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("button",{onClick:()=>o(n.product.id,n.quantity-1),className:"p-1 bg-gray-200 rounded-l",disabled:n.quantity<=1,children:e.jsx($,{size:16})}),e.jsx("span",{className:"px-3 py-1 bg-gray-100",children:n.quantity}),e.jsx("button",{onClick:()=>o(n.product.id,n.quantity+1),className:"p-1 bg-gray-200 rounded-r",disabled:n.quantity>=n.product.stock,children:e.jsx(q,{size:16})}),e.jsx("button",{onClick:()=>r(n.product.id),className:"ml-2 text-red-500 hover:text-red-700",children:e.jsx(A,{size:16})})]})]},n.product.id))}),s.length>0&&e.jsxs("div",{className:"p-4 border-t",children:[e.jsxs("div",{className:"flex justify-between mb-4",children:[e.jsx("span",{className:"font-bold",children:"Total:"}),e.jsxs("span",{children:["C$",d.toFixed(2)]})]}),e.jsx("button",{onClick:m,className:"w-full bg-green-500 text-white py-2 rounded hover:bg-green-600 transition-colors",children:"Ordenar por WhatsApp"})]})]})})})]})]})}function re({children:s}){const{session:r,loading:o}=P();return o?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-orange-500"})}):r?e.jsx(e.Fragment,{children:s}):e.jsx(U,{to:"/login",replace:!0})}const ae=()=>e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-orange-500"})}),v=s=>{const r=x.lazy(s);return e.jsx(x.Suspense,{fallback:e.jsx(ae,{}),children:e.jsx(r,{})})},ne=()=>e.jsxs(J,{children:[e.jsx(b,{path:"/",element:v(()=>N(()=>import("./StoreFront-C5ZZjpDe.js"),__vite__mapDeps([0,1])))}),e.jsx(b,{path:"/about",element:v(()=>N(()=>import("./About-oG3qYndo.js"),__vite__mapDeps([2,1])))}),e.jsx(b,{path:"/login",element:v(()=>N(()=>import("./LoginPage-gx77Phc6.js"),__vite__mapDeps([3,1])))}),e.jsx(b,{path:"/admin",element:e.jsx(re,{children:v(()=>N(()=>import("./AdminPanel-C9fXgDs3.js"),__vite__mapDeps([4,1])))})}),e.jsx(b,{path:"/information/*",element:v(()=>N(()=>import("./Information-y16NJXGb.js"),__vite__mapDeps([5,1,2])))})]}),oe=new G({defaultOptions:{queries:{staleTime:5*60*1e3,gcTime:30*60*1e3,retry:1,refetchOnWindowFocus:!1,refetchOnReconnect:!0}}});function ie(){return e.jsx(H,{client:oe,children:e.jsx(K,{children:e.jsxs("div",{className:"min-h-screen bg-gray-100",children:[e.jsx(X,{title:"GATOTAKU - Tu Tienda de Anime",description:"Tienda online de productos de anime y manga. Encuentra los mejores artículos de tus series favoritas."}),e.jsx(B,{children:e.jsx(Y,{children:e.jsx(Q,{future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:e.jsxs("div",{className:"flex flex-col min-h-screen",children:[e.jsx(ee,{}),e.jsx("main",{className:"flex-grow",children:e.jsx(ne,{})}),e.jsx(se,{}),e.jsx(te,{})]})})})})]})})})}V.createRoot(document.getElementById("root")).render(e.jsx(x.StrictMode,{children:e.jsx(ie,{})}));export{te as C,X as S,P as a,w as s,Z as u};
