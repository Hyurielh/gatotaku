const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/StoreFront-Cat8AZuZ.js","assets/vendor-CMZo2ZqG.js","assets/About-D5gSWPsK.js","assets/LoginPage-BTegDjr9.js","assets/AdminPanel-3HaixmoI.js","assets/Information-Cd6IHGX4.js"])))=>i.map(i=>d[i]);
import{c as ee,r as l,j as e,H as te,u as se,a as U,L as d,F as E,b as R,d as ne,e as re,A as ae,f as oe,g as ie,h as le,i as ce,S as z,X as $,M as de,P as ue,N as xe,R as me,k as y,_ as k,Q as he,l as pe,m as fe,n as ge,o as je}from"./vendor-CMZo2ZqG.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))u(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const i of r.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&u(i)}).observe(document,{childList:!0,subtree:!0});function o(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function u(s){if(s.ep)return;s.ep=!0;const r=o(s);fetch(s.href,r)}})();const be="https://qpxjmkwebtehwbxbsefs.supabase.co",Ne="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InFweGpta3dlYnRlaHdieGJzZWZzIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzY2MTYxNjgsImV4cCI6MjA1MjE5MjE2OH0.p4ucPBRNkK6oKPblq28DKpk8SyuugESfhFohJoPGyBQ",I=ee(be,Ne,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0}}),D=l.createContext({session:null,loading:!0,logout:async()=>{}});function we({children:t}){const[n,o]=l.useState(null),[u,s]=l.useState(!0),r=async()=>{try{const{error:i}=await I.auth.signOut();if(i)throw console.error("Error al cerrar sesión:",i),i;o(null)}catch(i){throw console.error("Error al cerrar sesión:",i),i}};return l.useEffect(()=>{(async()=>{try{const{data:{session:a}}=await I.auth.getSession();o(a)}catch(a){console.error("Error al obtener la sesión:",a)}finally{s(!1)}})();const{data:{subscription:p}}=I.auth.onAuthStateChange((a,g)=>{o(g),s(!1)});return()=>{p.unsubscribe()}},[]),e.jsx(D.Provider,{value:{session:n,loading:u,logout:r},children:t})}function q(){const t=l.useContext(D);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t}const Y=l.createContext(void 0);function ve({children:t}){const[n,o]=l.useState([]),[u,s]=l.useState(!1),r=(c,x=1)=>{o(m=>{const f=m.find(h=>h.product.id===c.id);if(f){const h=f.quantity+x;return h>c.stock?m:m.map(v=>v.product.id===c.id?{...v,quantity:Math.min(h,c.stock)}:v)}return[...m,{product:c,quantity:x}]}),s(!0)},i=r,p=c=>{o(x=>x.filter(m=>m.product.id!==c))},a=(c,x)=>{x<1||o(m=>{const f=m.find(h=>h.product.id===c);return!f||x>f.product.stock?m:m.map(h=>h.product.id===c?{...h,quantity:x}:h)})},g=()=>{o([]),s(!1)},b=n.reduce((c,x)=>c+x.product.price*x.quantity,0);return e.jsx(Y.Provider,{value:{items:n,addItem:r,addToCart:i,removeItem:p,updateQuantity:a,clearCart:g,total:b,isOpen:u,setIsOpen:s},children:t})}function ye(){const t=l.useContext(Y);if(t===void 0)throw new Error("useCart must be used within a CartProvider");return t}function ke({title:t,description:n,image:o,url:u}){const s="Gatotaku - Tu Tienda de Anime",r=t===s?t:`${t} | ${s}`,i="logo.png",p="";return e.jsxs(te,{children:[e.jsx("title",{children:r}),e.jsx("meta",{name:"description",content:n}),e.jsx("meta",{property:"og:type",content:"website"}),e.jsx("meta",{property:"og:title",content:r}),e.jsx("meta",{property:"og:description",content:n}),e.jsx("meta",{property:"og:image",content:o||i}),e.jsx("meta",{property:"og:url",content:u||p}),e.jsx("meta",{name:"twitter:card",content:"summary_large_image"}),e.jsx("meta",{name:"twitter:title",content:r}),e.jsx("meta",{name:"twitter:description",content:n}),e.jsx("meta",{name:"twitter:image",content:o||i}),e.jsx("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0"}),e.jsx("meta",{name:"theme-color",content:"#f97316"})," ",e.jsx("link",{rel:"canonical",href:u||p})]})}const Ce=()=>{const[t,n]=l.useState(!1),[o,u]=l.useState(!1),[s,r]=l.useState(!1),[i,p]=l.useState(!1),[a,g]=l.useState({x:16,y:window.innerHeight/2}),[b,c]=l.useState({x:window.innerWidth-80,y:window.innerHeight-80}),x=l.useRef(null),m=l.useRef(null),{session:f,logout:h}=q(),v=se(),H=U(),O=(N,B)=>j=>{N(!0);const G="touches"in j?j.touches[0].clientX:j.clientX,K="touches"in j?j.touches[0].clientY:j.clientY,M=j.currentTarget.parentElement;if(!M)return;const F=M.getBoundingClientRect(),Q=G-F.left,W=K-F.top,S=w=>{const V="touches"in w?w.touches[0].clientX:w.clientX,Z="touches"in w?w.touches[0].clientY:w.clientY;B({x:V-Q,y:Z-W})},_=()=>{N(!1),document.removeEventListener("mousemove",S),document.removeEventListener("mouseup",_),document.removeEventListener("touchmove",S),document.removeEventListener("touchend",_)};document.addEventListener("mousemove",S),document.addEventListener("mouseup",_),document.addEventListener("touchmove",S),document.addEventListener("touchend",_)},T=O(r,g),P=O(p,c),L=()=>{n(!t)},X=async()=>{try{await h(),v("/")}catch(N){console.error("Error al cerrar sesión:",N)}},J=()=>{u(!o)},A="https://wa.me/+50578364365";return e.jsxs(e.Fragment,{children:[e.jsx("header",{className:"bg-black text-white fixed top-0 left-0 right-0 z-50",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex justify-between items-center h-16",children:[e.jsxs(d,{to:"/",className:"flex items-center",onClick:()=>{window.dispatchEvent(new CustomEvent("reset-store-filters"))},children:[e.jsx("img",{src:"./logo.png",alt:"Logo",className:"w-12 h-12 rounded-full"}),e.jsx("span",{className:"ml-3 text-2xl md:text-3xl font-black tracking-wide text-white",style:{fontFamily:"Poppins",textShadow:"2px 2px 4px rgba(0, 0, 0, 0.3)"},children:"GATOTAKU"})]}),e.jsxs("nav",{className:"hidden md:flex items-center space-x-8",children:[e.jsxs(d,{to:"/",className:"menu-desktop-link group",children:[e.jsx("span",{children:"Inicio"}),e.jsx("span",{className:"absolute bottom-0 left-0 w-full h-0.5 bg-orange-500 transform scale-x-0 transition-transform group-hover:scale-x-100"})]}),e.jsxs(d,{to:"/about",className:"menu-desktop-link group",children:[e.jsx("span",{children:"Sobre Nosotros"}),e.jsx("span",{className:"absolute bottom-0 left-0 w-full h-0.5 bg-orange-500 transform scale-x-0 transition-transform group-hover:scale-x-100"})]}),e.jsxs(d,{to:"/information",className:"menu-desktop-link group",children:[e.jsx("span",{children:"Información"}),e.jsx("span",{className:"absolute bottom-0 left-0 w-full h-0.5 bg-orange-500 transform scale-x-0 transition-transform group-hover:scale-x-100"})]}),e.jsxs("a",{href:A,target:"_blank",rel:"noopener noreferrer",className:"relative group flex items-center font-baloo",children:[e.jsxs("span",{className:"hover:text-gray-300 flex items-center",children:[e.jsx(E,{className:"mr-2"}),"WhatsApp"]}),e.jsx("span",{className:"absolute bottom-0 left-0 w-full h-0.5 bg-orange-500 transform scale-x-0 transition-transform group-hover:scale-x-100"})]}),f&&e.jsx(d,{to:"/admin",className:"hover:text-orange-500 transition-colors font-baloo",children:e.jsx(R,{className:"text-2xl"})})]}),e.jsx("button",{onClick:L,className:"md:hidden text-white hover:text-orange-500 transition-colors",children:t?e.jsx(ne,{size:24}):e.jsx(re,{size:24})})]})})}),e.jsxs("div",{ref:x,className:"fixed z-50",style:{left:`${a.x}px`,top:`${a.y}px`,cursor:s?"grabbing":"grab"},children:[e.jsx("button",{onMouseDown:T,onTouchStart:T,onClick:J,className:"bg-white text-black rounded-full p-2 shadow-lg hover:bg-gray-100 transition-colors",title:"Arrastrar para mover",children:e.jsx(ae,{size:20})}),o&&e.jsxs("div",{className:"absolute left-full ml-2 top-1/2 transform -translate-y-1/2 flex flex-col space-y-2",children:[e.jsx("a",{href:A,target:"_blank",rel:"noopener noreferrer",className:"text-green-500 hover:text-green-400 transition-colors duration-300 bg-white rounded-full p-2 shadow-lg",children:e.jsx(E,{size:24})}),e.jsx("a",{href:"https://www.facebook.com/gatotaku.rivas",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-500 transition-colors duration-300 bg-white rounded-full p-2 shadow-lg",children:e.jsx(oe,{size:24})}),e.jsx("a",{href:"https://www.tiktok.com/@gatotaku2022",target:"_blank",rel:"noopener noreferrer",className:"text-black hover:text-gray-700 transition-colors duration-300 bg-white rounded-full p-2 shadow-lg",children:e.jsx(ie,{size:24})})]})]}),e.jsx("div",{ref:m,className:"fixed z-50",style:{left:`${b.x}px`,top:`${b.y}px`,cursor:i?"grabbing":"grab"},children:e.jsx(d,{to:"/cart",className:"block bg-orange-500 rounded-full p-3 shadow-lg hover:bg-orange-600 transition-colors",children:e.jsx("button",{onMouseDown:P,onTouchStart:P,className:"text-white",title:"Arrastrar para mover",children:e.jsx(le,{className:"text-2xl"})})})}),t&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40",onClick:L,children:e.jsx("div",{className:"fixed top-0 right-0 w-64 h-full bg-black text-white p-6 transform transition-transform duration-300 ease-in-out",onClick:N=>N.stopPropagation(),children:e.jsxs("div",{className:"flex flex-col space-y-4",children:[e.jsx(d,{to:"/",className:"menu-mobile-link",onClick:()=>n(!1),children:"Catálogo"}),e.jsx(d,{to:"/about",className:"menu-mobile-link",onClick:()=>n(!1),children:"Sobre Nosotros"}),e.jsx(d,{to:"/information",className:"menu-mobile-link",onClick:()=>n(!1),children:"Información"}),e.jsxs("a",{href:A,target:"_blank",rel:"noopener noreferrer",className:"menu-mobile-icon",onClick:()=>n(!1),children:[e.jsx(E,{className:"mr-2"}),"WhatsApp"]}),f&&e.jsxs(d,{to:"/admin",className:"menu-mobile-icon",onClick:()=>n(!1),children:[e.jsx(R,{className:"mr-2"}),"Admin"]}),H.pathname==="/admin"&&f&&e.jsxs("button",{onClick:X,className:"menu-mobile-icon",children:[e.jsx(ce,{className:"mr-2"}),"Cerrar Sesión"]})]})})})]})},Se=()=>{const t="+50578364365",n=`https://wa.me/${t}`;return e.jsx("footer",{className:"bg-black text-white mt-12 relative z-50",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:e.jsxs("div",{className:"flex flex-col items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("img",{src:"./logo.png",alt:"Logo",className:"w-10 h-10 rounded-full"}),e.jsx("span",{className:"text-3xl font-black tracking-wider",style:{fontFamily:"'Poppins', sans-serif"},children:"GATOTAKU"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 w-full max-w-4xl",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Enlaces Rápidos"}),e.jsxs("ul",{className:"space-y-2",children:[e.jsx("li",{children:e.jsx(d,{to:"/",className:"hover:text-gray-300",children:"Inicio"})}),e.jsx("li",{children:e.jsx(d,{to:"/about",className:"hover:text-gray-300",children:"Sobre Nosotros"})}),e.jsx("li",{children:e.jsxs("a",{href:n,target:"_blank",rel:"noopener noreferrer",className:"flex items-center hover:text-gray-300",children:[e.jsx(E,{className:"mr-2"}),"Contáctenos"]})})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Información"}),e.jsxs("ul",{className:"space-y-2",children:[e.jsx("li",{children:e.jsx(d,{to:"/information/payment-methods",className:"hover:text-gray-300",children:"Métodos de pago"})}),e.jsx("li",{children:e.jsx(d,{to:"/information/shipping",className:"hover:text-gray-300",children:"Envíos"})}),e.jsx("li",{children:e.jsx(d,{to:"/information/refunds",className:"hover:text-gray-300",children:"Reembolsos"})})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Contacto"}),e.jsxs("ul",{className:"space-y-2",children:[e.jsxs("li",{children:["WhatsApp: ",t]}),e.jsx("li",{children:"Email: gatotaku2022@gmail.com"})]})]})]})]})})})};function _e(){const{items:t,removeItem:n,updateQuantity:o,total:u,isOpen:s,setIsOpen:r,clearCart:i}=ye();U();const p=()=>{const a=t.map(c=>`• ${c.quantity}x ${c.product.name} - C$${(c.product.price*c.quantity).toFixed(2)}`).join(`
`),g=`

Total: C$${u.toFixed(2)}`,b=encodeURIComponent(`¡Hola! Me gustaría ordenar:
${a}${g}`);window.open(`https://wa.me/50578364365?text=${b}`,"_blank"),i()};return e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>r(!0),className:"fixed bottom-4 right-4 z-50 bg-black text-white p-3 rounded-full shadow-lg hover:bg-gray-900 transition-colors","aria-label":"Abrir carrito",children:e.jsxs("div",{className:"relative",children:[e.jsx(z,{className:"text-white text-2xl"}),t.length>0&&e.jsx("span",{className:"absolute -top-2 -right-2 bg-red-500 text-white text-xs w-5 h-5 rounded-full flex items-center justify-center",children:t.length})]})}),s&&e.jsxs("div",{className:"fixed inset-0 z-[100] overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50",onClick:()=>r(!1)}),e.jsx("div",{className:"fixed inset-y-0 right-0 max-w-full flex",children:e.jsx("div",{className:"w-screen max-w-md",children:e.jsxs("div",{className:"h-full flex flex-col bg-white shadow-xl",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 border-b",children:[e.jsxs("h2",{className:"text-xl font-bold flex items-center",children:[e.jsx(z,{className:"mr-2"}),"Carrito de Compras"]}),e.jsx("button",{onClick:()=>r(!1),className:"p-2 hover:bg-gray-100 rounded-full","aria-label":"Cerrar carrito",children:e.jsx($,{})})]}),e.jsx("div",{className:"flex-grow overflow-y-auto p-4",children:t.length===0?e.jsx("p",{className:"text-center text-gray-500",children:"Tu carrito está vacío"}):t.map(a=>e.jsxs("div",{className:"flex items-center justify-between border-b py-2",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("img",{src:a.product.images[0],alt:a.product.name,className:"w-16 h-16 object-cover mr-4"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold",children:a.product.name}),e.jsxs("p",{children:["C$",a.product.price.toFixed(2)]})]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("button",{onClick:()=>o(a.product.id,a.quantity-1),className:"p-1 bg-gray-200 rounded-l",disabled:a.quantity<=1,children:e.jsx(de,{size:16})}),e.jsx("span",{className:"px-3 py-1 bg-gray-100",children:a.quantity}),e.jsx("button",{onClick:()=>o(a.product.id,a.quantity+1),className:"p-1 bg-gray-200 rounded-r",disabled:a.quantity>=a.product.stock,children:e.jsx(ue,{size:16})}),e.jsx("button",{onClick:()=>n(a.product.id),className:"ml-2 text-red-500 hover:text-red-700",children:e.jsx($,{size:16})})]})]},a.product.id))}),t.length>0&&e.jsxs("div",{className:"p-4 border-t",children:[e.jsxs("div",{className:"flex justify-between mb-4",children:[e.jsx("span",{className:"font-bold",children:"Total:"}),e.jsxs("span",{children:["C$",u.toFixed(2)]})]}),e.jsx("button",{onClick:p,className:"w-full bg-green-500 text-white py-2 rounded hover:bg-green-600 transition-colors",children:"Ordenar por WhatsApp"})]})]})})})]})]})}function Ee({children:t}){const{session:n,loading:o}=q();return o?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-orange-500"})}):n?e.jsx(e.Fragment,{children:t}):e.jsx(xe,{to:"/login",replace:!0})}const Ae=()=>e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-orange-500"})}),C=t=>{const n=l.lazy(t);return e.jsx(l.Suspense,{fallback:e.jsx(Ae,{}),children:e.jsx(n,{})})},Ie=()=>e.jsxs(me,{children:[e.jsx(y,{path:"/",element:C(()=>k(()=>import("./StoreFront-Cat8AZuZ.js"),__vite__mapDeps([0,1])))}),e.jsx(y,{path:"/about",element:C(()=>k(()=>import("./About-D5gSWPsK.js"),__vite__mapDeps([2,1])))}),e.jsx(y,{path:"/login",element:C(()=>k(()=>import("./LoginPage-BTegDjr9.js"),__vite__mapDeps([3,1])))}),e.jsx(y,{path:"/admin",element:e.jsx(Ee,{children:C(()=>k(()=>import("./AdminPanel-3HaixmoI.js"),__vite__mapDeps([4,1])))})}),e.jsx(y,{path:"/information/*",element:C(()=>k(()=>import("./Information-Cd6IHGX4.js"),__vite__mapDeps([5,1,2])))})]}),Oe=new he({defaultOptions:{queries:{staleTime:5*60*1e3,gcTime:30*60*1e3,retry:1,refetchOnWindowFocus:!1,refetchOnReconnect:!0}}});function Te(){return e.jsx(pe,{client:Oe,children:e.jsx(fe,{children:e.jsxs("div",{className:"min-h-screen bg-gray-100",children:[e.jsx(ke,{title:"GATOTAKU - Tu Tienda de Anime",description:"Tienda online de productos de anime y manga. Encuentra los mejores artículos de tus series favoritas."}),e.jsx(we,{children:e.jsx(ve,{children:e.jsx(ge,{future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:e.jsxs("div",{className:"flex flex-col min-h-screen",children:[e.jsx(Ce,{}),e.jsx("main",{className:"flex-grow",children:e.jsx(Ie,{})}),e.jsx(Se,{}),e.jsx(_e,{})]})})})})]})})})}je.createRoot(document.getElementById("root")).render(e.jsx(l.StrictMode,{children:e.jsx(Te,{})}));export{ke as S,q as a,I as s,ye as u};
