const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/StoreFront-DwVoFRw0.js","assets/vendor-cYLGd4Jp.js","assets/vendor-B4zyQOk2.css","assets/About-LUW1S-10.js","assets/LoginPage-C2vK5JYD.js","assets/AdminPanel-DUMvtEAR.js","assets/Information-vuKvhqLg.js"])))=>i.map(i=>d[i]);
import{c as B,r as u,j as e,H as Q,R as V,u as Z,a as P,L as m,F as T,b as U,d as $,e as ee,f as H,g as te,h as se,S as q,X as G,M as ne,P as re,N as oe,i as ae,k as w,_ as k,Q as le,l as ie,m as ce,n as de,o as ue,p as xe}from"./vendor-cYLGd4Jp.js";(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))h(s);new MutationObserver(s=>{for(const n of s)if(n.type==="childList")for(const l of n.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&h(l)}).observe(document,{childList:!0,subtree:!0});function a(s){const n={};return s.integrity&&(n.integrity=s.integrity),s.referrerPolicy&&(n.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?n.credentials="include":s.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function h(s){if(s.ep)return;s.ep=!0;const n=a(s);fetch(s.href,n)}})();const me="https://qpxjmkwebtehwbxbsefs.supabase.co",he="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InFweGpta3dlYnRlaHdieGJzZWZzIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzY2MTYxNjgsImV4cCI6MjA1MjE5MjE2OH0.p4ucPBRNkK6oKPblq28DKpk8SyuugESfhFohJoPGyBQ",I=B(me,he,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0}}),Y=u.createContext({session:null,loading:!0,logout:async()=>{}});function pe({children:t}){const[o,a]=u.useState(null),[h,s]=u.useState(!0),n=async()=>{try{const{error:l}=await I.auth.signOut();if(l)throw console.error("Error al cerrar sesión:",l),l;a(null)}catch(l){throw console.error("Error al cerrar sesión:",l),l}};return u.useEffect(()=>{(async()=>{try{const{data:{session:r}}=await I.auth.getSession();a(r)}catch(r){console.error("Error al obtener la sesión:",r)}finally{s(!1)}})();const{data:{subscription:f}}=I.auth.onAuthStateChange((r,j)=>{a(j),s(!1)});return()=>{f.unsubscribe()}},[]),e.jsx(Y.Provider,{value:{session:o,loading:h,logout:n},children:t})}function J(){const t=u.useContext(Y);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t}const K=u.createContext(void 0);function fe({children:t}){const[o,a]=u.useState([]),[h,s]=u.useState(!1),n=(d,x=1)=>{a(i=>{const b=i.find(p=>p.product.id===d.id);if(b){const p=b.quantity+x;return p>d.stock?i:i.map(v=>v.product.id===d.id?{...v,quantity:Math.min(p,d.stock)}:v)}return[...i,{product:d,quantity:x}]}),s(!0)},l=n,f=d=>{a(x=>x.filter(i=>i.product.id!==d))},r=(d,x)=>{x<1||a(i=>{const b=i.find(p=>p.product.id===d);return!b||x>b.product.stock?i:i.map(p=>p.product.id===d?{...p,quantity:x}:p)})},j=()=>{a([]),s(!1)},S=o.reduce((d,x)=>d+x.product.price*x.quantity,0);return e.jsx(K.Provider,{value:{items:o,addItem:n,addToCart:l,removeItem:f,updateQuantity:r,clearCart:j,total:S,isOpen:h,setIsOpen:s},children:t})}function ge(){const t=u.useContext(K);if(t===void 0)throw new Error("useCart must be used within a CartProvider");return t}function je({title:t,description:o,image:a,url:h}){const s="Gatotaku - Tu Tienda de Anime",n=t===s?t:`${t} | ${s}`,l="logo.png",f="";return e.jsxs(Q,{children:[e.jsx("title",{children:n}),e.jsx("meta",{name:"description",content:o}),e.jsx("meta",{property:"og:type",content:"website"}),e.jsx("meta",{property:"og:title",content:n}),e.jsx("meta",{property:"og:description",content:o}),e.jsx("meta",{property:"og:image",content:a||l}),e.jsx("meta",{property:"og:url",content:h||f}),e.jsx("meta",{name:"twitter:card",content:"summary_large_image"}),e.jsx("meta",{name:"twitter:title",content:n}),e.jsx("meta",{name:"twitter:description",content:o}),e.jsx("meta",{name:"twitter:image",content:a||l}),e.jsx("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0"}),e.jsx("meta",{name:"theme-color",content:"#f97316"})," ",e.jsx("link",{rel:"canonical",href:h||f})]})}const be=V.memo(()=>{const[t,o]=u.useState(!1),[a,h]=u.useState(!1),[s,n]=u.useState(!1),[l,f]=u.useState({x:16,y:window.innerHeight/2}),r=u.useRef(null),{session:j,logout:S}=J();Z(),P();const x=((y,M)=>{let A=0,O=0,N=!1,E=null;const L=(c,g,R)=>{const D=R.getBoundingClientRect();A=c-D.left,O=g-D.top,N=!1,E=R,document.addEventListener("mousemove",F,{passive:!1}),document.addEventListener("mouseup",_),document.addEventListener("touchmove",z,{passive:!1}),document.addEventListener("touchend",_)},W=c=>{c.preventDefault(),L(c.clientX,c.clientY,c.currentTarget)},X=c=>{c.preventDefault();const g=c.touches[0];L(g.clientX,g.clientY,c.currentTarget)},F=c=>{E&&(N||(N=!0,y(!0)),M({x:c.clientX-A,y:c.clientY-O}))},z=c=>{if(!E)return;c.preventDefault(),N||(N=!0,y(!0));const g=c.touches[0];M({x:g.clientX-A,y:g.clientY-O})},_=()=>{document.removeEventListener("mousemove",F),document.removeEventListener("mouseup",_),document.removeEventListener("touchmove",z),document.removeEventListener("touchend",_),N=!1,E=null,y(!1)};return{onMouseDown:W,onTouchStart:X,mergeDragStyles:c=>{const g={WebkitUserSelect:"none",userSelect:"none",touchAction:"none",cursor:"move"};return c?{...c,...g}:g}}})(n,f),i=()=>{o(!t)},b=()=>{h(!a)},v="https://wa.me/+50578364365";return e.jsxs(e.Fragment,{children:[e.jsx("header",{className:"bg-black text-white fixed top-0 left-0 right-0 z-20",role:"banner",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex justify-between items-center h-16",children:[e.jsxs(m,{to:"/",className:"flex items-center","aria-label":"Página de inicio de Gatotaku",onClick:()=>{window.dispatchEvent(new CustomEvent("reset-store-filters"))},children:[e.jsx("img",{src:"/logo.png",alt:"Logo de Gatotaku",className:"w-12 h-12 rounded-full"}),e.jsx("span",{className:"ml-3 text-2xl md:text-3xl font-black tracking-wide text-white",style:{fontFamily:"Poppins",textShadow:"2px 2px 4px rgba(0, 0, 0, 0.3)"},children:"GATOTAKU"})]}),e.jsxs("nav",{className:"hidden md:flex items-center space-x-8",children:[e.jsxs(m,{to:"/",className:"menu-desktop-link group",children:[e.jsx("span",{children:"Inicio"}),e.jsx("span",{className:"absolute bottom-0 left-0 w-full h-0.5 bg-orange-500 transform scale-x-0 transition-transform group-hover:scale-x-100"})]}),e.jsxs(m,{to:"/about",className:"menu-desktop-link group",children:[e.jsx("span",{children:"Sobre Nosotros"}),e.jsx("span",{className:"absolute bottom-0 left-0 w-full h-0.5 bg-orange-500 transform scale-x-0 transition-transform group-hover:scale-x-100"})]}),e.jsxs(m,{to:"/information",className:"menu-desktop-link group",children:[e.jsx("span",{children:"Información"}),e.jsx("span",{className:"absolute bottom-0 left-0 w-full h-0.5 bg-orange-500 transform scale-x-0 transition-transform group-hover:scale-x-100"})]}),e.jsxs("a",{href:v,target:"_blank",rel:"noopener noreferrer",className:"relative group flex items-center font-baloo",children:[e.jsxs("span",{className:"hover:text-gray-300 flex items-center",children:[e.jsx(T,{size:18}),"WhatsApp"]}),e.jsx("span",{className:"absolute bottom-0 left-0 w-full h-0.5 bg-orange-500 transform scale-x-0 transition-transform group-hover:scale-x-100"})]}),j&&e.jsx(m,{to:"/admin",className:"hover:text-orange-500 transition-colors font-baloo",children:e.jsx(U,{className:"text-2xl"})})]}),e.jsx("button",{className:"md:hidden",onClick:i,"aria-label":t?"Cerrar menú":"Abrir menú","aria-expanded":t,children:t?e.jsx($,{}):e.jsx(ee,{})})]})})}),e.jsx("div",{ref:r,onMouseDown:x.onMouseDown,onTouchStart:x.onTouchStart,style:x.mergeDragStyles({position:"fixed",left:`${l.x}px`,top:`${l.y}px`,zIndex:30,cursor:s?"grabbing":"grab"}),children:e.jsxs("div",{className:"flex flex-col space-y-1 bg-white bg-opacity-70 rounded-lg shadow-lg p-2 backdrop-blur-sm",children:[e.jsx("button",{onClick:()=>window.open(v,"_blank"),className:"text-green-600 hover:text-green-500 transition-colors duration-300 bg-opacity-30 rounded-full p-2",title:"WhatsApp",children:e.jsx(T,{size:18,className:"drop-shadow-md"})}),!a&&e.jsx("button",{onClick:b,className:"text-black hover:text-gray-800 transition-colors duration-300 bg-opacity-30 rounded-full p-2",title:"Más redes sociales",children:e.jsx(H,{size:18})}),a&&e.jsxs(e.Fragment,{children:[e.jsx("a",{href:"https://www.facebook.com/gatotaku.rivas",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-500 transition-colors duration-300 bg-opacity-70 rounded-full p-2",children:e.jsx(te,{size:18})}),e.jsx("a",{href:"https://www.tiktok.com/@gatotaku2022",target:"_blank",rel:"noopener noreferrer",className:"text-black hover:text-gray-800 transition-colors duration-300 bg-opacity-70 rounded-full p-2",children:e.jsx(se,{size:18})}),e.jsx("button",{onClick:b,className:"text-black hover:text-gray-800 transition-colors duration-300 bg-opacity-70 rounded-full p-2 self-center",title:"Cerrar redes sociales",children:e.jsx(H,{className:"transform rotate-45",size:18})})]})]})}),t&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40",onClick:i,children:e.jsxs("div",{className:"fixed top-0 right-0 w-64 h-full bg-white shadow-lg transform transition-transform duration-300 ease-in-out",onClick:y=>y.stopPropagation(),children:[e.jsxs("div",{className:"p-4 border-b flex justify-between items-center",children:[e.jsxs(m,{to:"/",className:"flex items-center",onClick:()=>{window.dispatchEvent(new CustomEvent("reset-store-filters")),i()},children:[e.jsx("img",{src:"/logo.png",alt:"Logo de Gatotaku",className:"w-12 h-12 rounded-full"}),e.jsx("span",{className:"ml-3 text-2xl font-black tracking-wide text-black",children:"GATOTAKU"})]}),e.jsx("button",{onClick:i,className:"text-gray-600 hover:text-gray-900",children:e.jsx($,{size:18})})]}),e.jsxs("nav",{className:"flex flex-col p-4 space-y-4",children:[e.jsx(m,{to:"/",className:"text-lg hover:text-orange-500 transition-colors",onClick:i,children:"Inicio"}),e.jsx(m,{to:"/about",className:"text-lg hover:text-orange-500 transition-colors",onClick:i,children:"Sobre Nosotros"}),e.jsx(m,{to:"/information",className:"text-lg hover:text-orange-500 transition-colors",onClick:i,children:"Información"}),e.jsxs("a",{href:v,target:"_blank",rel:"noopener noreferrer",className:"text-lg hover:text-orange-500 transition-colors flex items-center",children:[e.jsx(T,{size:18}),"WhatsApp"]}),j&&e.jsxs(m,{to:"/admin",className:"text-lg hover:text-orange-500 transition-colors flex items-center",onClick:i,children:[e.jsx(U,{className:"mr-2"}),"Panel Admin"]})]})]})})]})}),ve=()=>{const t="+50578364365",o=`https://wa.me/${t}`;return e.jsx("footer",{className:"bg-black text-white !mt-0 relative z-30",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:e.jsxs("div",{className:"flex flex-col items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("img",{src:"/logo.png",alt:"Logo",className:"w-10 h-10 rounded-full"}),e.jsx("span",{className:"text-3xl font-black tracking-wider",style:{fontFamily:"'Poppins', sans-serif"},children:"GATOTAKU"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 w-full max-w-4xl",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Enlaces Rápidos"}),e.jsxs("ul",{className:"space-y-2",children:[e.jsx("li",{children:e.jsx(m,{to:"/",className:"hover:text-gray-300",children:"Inicio"})}),e.jsx("li",{children:e.jsx(m,{to:"/about",className:"hover:text-gray-300",children:"Sobre Nosotros"})}),e.jsx("li",{children:e.jsxs("a",{href:o,target:"_blank",rel:"noopener noreferrer",className:"flex items-center hover:text-gray-300",children:[e.jsx(T,{className:"mr-2"}),"Contáctenos"]})})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Información"}),e.jsxs("ul",{className:"space-y-2",children:[e.jsx("li",{children:e.jsx(m,{to:"/information/payment-methods",className:"hover:text-gray-300",children:"Métodos de pago"})}),e.jsx("li",{children:e.jsx(m,{to:"/information/shipping",className:"hover:text-gray-300",children:"Envíos"})}),e.jsx("li",{children:e.jsx(m,{to:"/information/refunds",className:"hover:text-gray-300",children:"Reembolsos"})})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Contacto"}),e.jsxs("ul",{className:"space-y-2",children:[e.jsxs("li",{children:["WhatsApp: ",t]}),e.jsx("li",{children:"Email: gatotaku2022@gmail.com"})]})]})]})]})})})};function Ne(){const{items:t,removeItem:o,updateQuantity:a,total:h,isOpen:s,setIsOpen:n,clearCart:l}=ge();P();const f=()=>{const r=t.map(d=>`• ${d.quantity}x ${d.product.name} - C$${(d.product.price*d.quantity).toFixed(2)}`).join(`
`),j=`

Total: C$${h.toFixed(2)}`,S=encodeURIComponent(`¡Hola! Me gustaría ordenar:
${r}${j}`);window.open(`https://wa.me/50578364365?text=${S}`,"_blank"),l()};return e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>n(!0),className:"fixed bottom-[7.5rem] right-4 sm:bottom-6 sm:right-6 md:bottom-8 md:right-8 lg:bottom-10 lg:right-10 z-50 bg-black/50 backdrop-blur-sm text-white p-3 rounded-full shadow-lg hover:bg-black/70 transition-colors","aria-label":"Abrir carrito",children:e.jsxs("div",{className:"relative",children:[e.jsx(q,{className:"text-white text-2xl opacity-80"}),t.length>0&&e.jsx("span",{className:"absolute -top-2 -right-2 bg-red-500 text-white text-xs w-5 h-5 rounded-full flex items-center justify-center",children:t.length})]})}),s&&e.jsxs("div",{className:"fixed inset-0 z-[100] overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50",onClick:()=>n(!1)}),e.jsx("div",{className:"fixed inset-y-0 right-0 max-w-full flex",children:e.jsx("div",{className:"w-screen max-w-md",children:e.jsxs("div",{className:"h-full flex flex-col bg-white shadow-xl",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 border-b",children:[e.jsxs("h2",{className:"text-xl font-bold flex items-center",children:[e.jsx(q,{className:"mr-2"}),"Carrito de Compras"]}),e.jsx("button",{onClick:()=>n(!1),className:"p-2 hover:bg-gray-100 rounded-full","aria-label":"Cerrar carrito",children:e.jsx(G,{})})]}),e.jsx("div",{className:"flex-grow overflow-y-auto p-4",children:t.length===0?e.jsx("p",{className:"text-center text-gray-500",children:"Tu carrito está vacío"}):t.map(r=>e.jsxs("div",{className:"flex items-center justify-between border-b py-2",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("img",{src:r.product.images[0],alt:r.product.name,className:"w-16 h-16 object-cover mr-4"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold",children:r.product.name}),e.jsxs("p",{children:["C$",r.product.price.toFixed(2)]})]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("button",{onClick:()=>a(r.product.id,r.quantity-1),className:"p-1 bg-gray-200 rounded-l",disabled:r.quantity<=1,children:e.jsx(ne,{size:16})}),e.jsx("span",{className:"px-3 py-1 bg-gray-100",children:r.quantity}),e.jsx("button",{onClick:()=>a(r.product.id,r.quantity+1),className:"p-1 bg-gray-200 rounded-r",disabled:r.quantity>=r.product.stock,children:e.jsx(re,{size:16})}),e.jsx("button",{onClick:()=>o(r.product.id),className:"ml-2 text-red-500 hover:text-red-700",children:e.jsx(G,{size:16})})]})]},r.product.id))}),t.length>0&&e.jsxs("div",{className:"p-4 border-t",children:[e.jsxs("div",{className:"flex justify-between mb-4",children:[e.jsx("span",{className:"font-bold",children:"Total:"}),e.jsxs("span",{children:["C$",h.toFixed(2)]})]}),e.jsx("button",{onClick:f,className:"w-full bg-green-500 text-white py-2 rounded hover:bg-green-600 transition-colors",children:"Ordenar por WhatsApp"})]})]})})})]})]})}function ye({children:t}){const{session:o,loading:a}=J();return a?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-orange-500"})}):o?e.jsx(e.Fragment,{children:t}):e.jsx(oe,{to:"/login",replace:!0})}const we=()=>e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-orange-500"})}),C=t=>{const o=u.lazy(t);return e.jsx(u.Suspense,{fallback:e.jsx(we,{}),children:e.jsx(o,{})})},ke=()=>{const t=P();return u.useEffect(()=>{window.scrollTo(0,0)},[t.pathname]),null},Ce=()=>e.jsxs(e.Fragment,{children:[e.jsx(ke,{}),e.jsxs(ae,{children:[e.jsx(w,{path:"/",element:C(()=>k(()=>import("./StoreFront-DwVoFRw0.js"),__vite__mapDeps([0,1,2])))}),e.jsx(w,{path:"/about",element:C(()=>k(()=>import("./About-LUW1S-10.js"),__vite__mapDeps([3,1,2])))}),e.jsx(w,{path:"/login",element:C(()=>k(()=>import("./LoginPage-C2vK5JYD.js"),__vite__mapDeps([4,1,2])))}),e.jsx(w,{path:"/admin",element:e.jsx(ye,{children:C(()=>k(()=>import("./AdminPanel-DUMvtEAR.js"),__vite__mapDeps([5,1,2])))})}),e.jsx(w,{path:"/information/*",element:C(()=>k(()=>import("./Information-vuKvhqLg.js"),__vite__mapDeps([6,1,2,3])))})]})]}),Se=new le({defaultOptions:{queries:{staleTime:5*60*1e3,gcTime:30*60*1e3,retry:1,refetchOnWindowFocus:!1,refetchOnReconnect:!0}}});function Ee(){return e.jsx(ie,{client:Se,children:e.jsx(ce,{children:e.jsxs("div",{className:"min-h-screen bg-gray-100",children:[e.jsx(je,{title:"GATOTAKU - Tu Tienda de Anime",description:"Tienda online de productos de anime y manga. Encuentra los mejores artículos de tus series favoritas."}),e.jsx(pe,{children:e.jsx(fe,{children:e.jsx(de,{future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:e.jsxs("div",{className:"flex flex-col min-h-screen",children:[e.jsx(be,{}),e.jsx("main",{className:"flex-grow pt-8",children:e.jsx(Ce,{})}),e.jsx(ve,{}),e.jsx(Ne,{}),e.jsx(ue,{position:"top-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,theme:"colored"})]})})})})]})})})}xe.createRoot(document.getElementById("root")).render(e.jsx(u.StrictMode,{children:e.jsx(Ee,{})}));export{je as S,J as a,I as s,ge as u};
