const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/StoreFront-CZ6WctMd.js","assets/vendor-BkDSjrky.js","assets/vendor-B4zyQOk2.css","assets/About-DIxenYAa.js","assets/LoginPage-ioNEWFYu.js","assets/AdminPanel-By_e4BXO.js","assets/Information-DIy0Wk6j.js"])))=>i.map(i=>d[i]);
import{Q as z,c as R,r as i,j as e,H as L,L as p,F as O,a as C,b as T,d as A,e as U,f as D,R as q,u as $,g as H,h as _,S,X as E,T as G,M as K,P as W,i as J,k as I,N as Q,l as V,m as y,_ as N,n as B,o as Y,p as Z,q as X,s as ee}from"./vendor-BkDSjrky.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))u(r);new MutationObserver(r=>{for(const a of r)if(a.type==="childList")for(const x of a.addedNodes)x.tagName==="LINK"&&x.rel==="modulepreload"&&u(x)}).observe(document,{childList:!0,subtree:!0});function n(r){const a={};return r.integrity&&(a.integrity=r.integrity),r.referrerPolicy&&(a.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?a.credentials="include":r.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function u(r){if(r.ep)return;r.ep=!0;const a=n(r);fetch(r.href,a)}})();const te=new z({defaultOptions:{queries:{staleTime:5*60*1e3,gcTime:30*60*1e3,retry:1,refetchOnWindowFocus:!1,refetchOnReconnect:!0}}}),se="https://qpxjmkwebtehwbxbsefs.supabase.co",re="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InFweGpta3dlYnRlaHdieGJzZWZzIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzY2MTYxNjgsImV4cCI6MjA1MjE5MjE2OH0.p4ucPBRNkK6oKPblq28DKpk8SyuugESfhFohJoPGyBQ",k=R(se,re,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0}}),P=i.createContext({session:null,user:null,loading:!0,isAuthenticating:!1,error:null,logout:async()=>{},login:async()=>{},clearError:()=>{}});function ne({children:t}){const[s,n]=i.useState(null),[u,r]=i.useState(null),[a,x]=i.useState(!0),[j,g]=i.useState(!1),[b,o]=i.useState(null),c=()=>o(null),m=async(h,f)=>{try{g(!0),c();const{data:l,error:w}=await k.auth.signInWithPassword({email:h,password:f});if(w)throw w;n(l.session),r(l.user)}catch(l){throw o(l instanceof Error?l.message:"An error occurred during login"),l}finally{g(!1)}},d=async()=>{try{c();const{error:h}=await k.auth.signOut();if(h)throw h;n(null),r(null)}catch(h){throw o(h instanceof Error?h.message:"An error occurred during logout"),h}};return i.useEffect(()=>{(async()=>{try{const{data:{session:l}}=await k.auth.getSession();n(l),r((l==null?void 0:l.user)??null)}catch(l){o(l instanceof Error?l.message:"Error fetching session")}finally{x(!1)}})();const{data:{subscription:f}}=k.auth.onAuthStateChange((l,w)=>{n(w),r((w==null?void 0:w.user)??null),x(!1)});return()=>{f.unsubscribe()}},[]),e.jsx(P.Provider,{value:{session:s,user:u,loading:a,isAuthenticating:j,error:b,logout:d,login:m,clearError:c},children:t})}function F(){const t=i.useContext(P);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t}const M=i.createContext(void 0);function ae({children:t}){const[s,n]=i.useState([]),[u,r]=i.useState(!1),a=(c,m=1)=>{n(d=>{const h=d.find(f=>f.product.id===c.id);if(h){const f=h.quantity+m;return f>c.stock?d:d.map(l=>l.product.id===c.id?{...l,quantity:Math.min(f,c.stock)}:l)}return[...d,{product:c,quantity:m}]}),r(!0)},x=a,j=c=>{n(m=>m.filter(d=>d.product.id!==c))},g=(c,m)=>{m<1||n(d=>{const h=d.find(f=>f.product.id===c);return!h||m>h.product.stock?d:d.map(f=>f.product.id===c?{...f,quantity:m}:f)})},b=()=>{n([]),r(!1)},o=s.reduce((c,m)=>c+m.product.price*m.quantity,0);return e.jsx(M.Provider,{value:{items:s,addItem:a,addToCart:x,removeItem:j,updateQuantity:g,clearCart:b,total:o,isOpen:u,setIsOpen:r},children:t})}function oe(){const t=i.useContext(M);if(t===void 0)throw new Error("useCart must be used within a CartProvider");return t}const ie=({title:t,description:s,openGraph:n})=>e.jsxs(L,{children:[e.jsx("title",{children:t}),e.jsx("meta",{name:"description",content:s}),e.jsx("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),e.jsx("meta",{name:"robots",content:"index, follow"}),e.jsx("link",{rel:"canonical",href:window.location.href}),n&&e.jsxs(e.Fragment,{children:[e.jsx("meta",{property:"og:title",content:n.title}),e.jsx("meta",{property:"og:description",content:n.description}),e.jsx("meta",{property:"og:image",content:n.image}),e.jsx("meta",{property:"og:url",content:window.location.href}),e.jsx("meta",{property:"og:type",content:"website"})]})]}),le=({isOpen:t,onClose:s,session:n})=>t?e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40",onClick:s,children:e.jsxs("div",{className:"fixed top-0 right-0 w-64 h-full bg-white shadow-lg transform transition-transform duration-300 ease-in-out",onClick:r=>r.stopPropagation(),children:[e.jsxs("div",{className:"p-4 border-b flex justify-between items-center",children:[e.jsxs(p,{to:"/",className:"flex items-center",onClick:()=>{window.dispatchEvent(new CustomEvent("reset-store-filters")),s()},children:[e.jsx("img",{src:"/logo.png",alt:"Logo de Gatotaku",className:"w-12 h-12 rounded-full"}),e.jsx("span",{className:"ml-3 text-2xl font-black tracking-wide text-black",children:"GATOTAKU"})]}),e.jsx("button",{onClick:s,className:"text-gray-600 hover:text-gray-900",children:e.jsx(O,{size:18})})]}),e.jsxs("nav",{className:"flex flex-col p-4 space-y-4",children:[e.jsx(p,{to:"/",className:"text-lg hover:text-orange-500 transition-colors",onClick:s,children:"Inicio"}),e.jsx(p,{to:"/about",className:"text-lg hover:text-orange-500 transition-colors",onClick:s,children:"Sobre Nosotros"}),e.jsx(p,{to:"/information",className:"text-lg hover:text-orange-500 transition-colors",onClick:s,children:"Información"}),e.jsxs("a",{href:"https://wa.me/+50578364365",target:"_blank",rel:"noopener noreferrer",className:"text-lg hover:text-orange-500 transition-colors flex items-center",children:[e.jsx(C,{size:18}),"WhatsApp"]}),n&&e.jsxs(p,{to:"/admin",className:"text-lg hover:text-orange-500 transition-colors flex items-center",onClick:s,children:[e.jsx(T,{className:"mr-2"}),"Panel Admin"]})]})]})}):null,ce=({position:t,isDragging:s,dragHandlers:n})=>{const[u,r]=i.useState(!1),a=i.useRef(null),x=()=>{r(!u)},j="https://wa.me/+50578364365";return e.jsx("div",{ref:a,onMouseDown:n.onMouseDown,onTouchStart:n.onTouchStart,style:n.mergeDragStyles({position:"fixed",left:`${t.x}px`,top:`${t.y}px`,zIndex:30,cursor:s?"grabbing":"grab"}),children:e.jsxs("div",{className:"flex flex-col space-y-1 bg-white bg-opacity-70 rounded-lg shadow-lg p-2 backdrop-blur-sm",children:[e.jsx("button",{onClick:()=>window.open(j,"_blank"),className:"text-green-600 hover:text-green-500 transition-colors duration-300 bg-opacity-30 rounded-full p-2",title:"WhatsApp",children:e.jsx(C,{size:18,className:"drop-shadow-md"})}),!u&&e.jsx("button",{onClick:x,className:"text-black hover:text-gray-800 transition-colors duration-300 bg-opacity-30 rounded-full p-2",title:"Más redes sociales",children:e.jsx(A,{size:18})}),u&&e.jsxs(e.Fragment,{children:[e.jsx("a",{href:"https://www.facebook.com/gatotaku.rivas",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-500 transition-colors duration-300 bg-opacity-70 rounded-full p-2",children:e.jsx(U,{size:18})}),e.jsx("a",{href:"https://www.tiktok.com/@gatotaku2022",target:"_blank",rel:"noopener noreferrer",className:"text-black hover:text-gray-800 transition-colors duration-300 bg-opacity-70 rounded-full p-2",children:e.jsx(D,{size:18})}),e.jsx("button",{onClick:x,className:"text-black hover:text-gray-800 transition-colors duration-300 bg-opacity-70 rounded-full p-2 self-center",title:"Cerrar redes sociales",children:e.jsx(A,{className:"transform rotate-45",size:18})})]})]})})},de={whatsapp:{number:"+50578364365",url:"https://wa.me/+50578364365"},facebook:"https://www.facebook.com/gatotaku.rivas",tiktok:"https://www.tiktok.com/@gatotaku2022"},ue=t=>{const[s,n]=i.useState(!1),[u,r]=i.useState(t);return{isDragging:s,position:u,dragHandlers:{onMouseDown:g=>{},onTouchStart:g=>{},mergeDragStyles:g=>{const b={WebkitUserSelect:"none",userSelect:"none",touchAction:"none",cursor:"move"};return g?{...g,...b}:b}}}},xe=q.memo(()=>{const[t,s]=i.useState(!1),{session:n,logout:u}=F();$();const{isDragging:r,position:a,dragHandlers:x}=ue({x:16,y:window.innerHeight/2});return e.jsxs(e.Fragment,{children:[e.jsx("header",{className:"bg-black text-white fixed top-0 left-0 right-0 z-20",role:"banner",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex justify-between items-center h-16",children:[e.jsxs(p,{to:"/",className:"flex items-center","aria-label":"Página de inicio de Gatotaku",onClick:()=>{window.dispatchEvent(new CustomEvent("reset-store-filters"))},children:[e.jsx("img",{src:"/logo.png",alt:"Logo de Gatotaku",className:"w-12 h-12 rounded-full"}),e.jsx("span",{className:"ml-3 text-2xl md:text-3xl font-black tracking-wide text-white",style:{fontFamily:"Poppins",textShadow:"2px 2px 4px rgba(0, 0, 0, 0.3)"},children:"GATOTAKU"})]}),e.jsxs("nav",{className:"hidden md:flex items-center space-x-8",children:[e.jsxs(p,{to:"/",className:"menu-desktop-link group",children:[e.jsx("span",{children:"Inicio"}),e.jsx("span",{className:"absolute bottom-0 left-0 w-full h-0.5 bg-orange-500 transform scale-x-0 transition-transform group-hover:scale-x-100"})]}),e.jsxs(p,{to:"/about",className:"menu-desktop-link group",children:[e.jsx("span",{children:"Sobre Nosotros"}),e.jsx("span",{className:"absolute bottom-0 left-0 w-full h-0.5 bg-orange-500 transform scale-x-0 transition-transform group-hover:scale-x-100"})]}),e.jsxs(p,{to:"/information",className:"menu-desktop-link group",children:[e.jsx("span",{children:"Información"}),e.jsx("span",{className:"absolute bottom-0 left-0 w-full h-0.5 bg-orange-500 transform scale-x-0 transition-transform group-hover:scale-x-100"})]}),e.jsxs("a",{href:de.whatsapp.url,target:"_blank",rel:"noopener noreferrer",className:"relative group flex items-center font-baloo",children:[e.jsxs("span",{className:"hover:text-gray-300 flex items-center",children:[e.jsx(C,{size:18}),"WhatsApp"]}),e.jsx("span",{className:"absolute bottom-0 left-0 w-full h-0.5 bg-orange-500 transform scale-x-0 transition-transform group-hover:scale-x-100"})]}),n&&e.jsx(p,{to:"/admin",className:"hover:text-orange-500 transition-colors font-baloo",children:e.jsx(T,{className:"text-2xl"})})]}),e.jsx("button",{className:"md:hidden",onClick:()=>s(!t),"aria-label":t?"Cerrar menú":"Abrir menú","aria-expanded":t,children:t?e.jsx(O,{}):e.jsx(H,{})})]})})}),e.jsx(ce,{position:a,isDragging:r,dragHandlers:x}),e.jsx(le,{isOpen:t,onClose:()=>s(!1),session:n})]})}),me=()=>{const t="+50578364365",s=`https://wa.me/${t}`;return e.jsx("footer",{className:"bg-black text-white !mt-0 relative z-30",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:e.jsxs("div",{className:"flex flex-col items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("img",{src:"/logo.png",alt:"Logo",className:"w-10 h-10 rounded-full"}),e.jsx("span",{className:"text-3xl font-black tracking-wider",style:{fontFamily:"'Poppins', sans-serif"},children:"GATOTAKU"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 w-full max-w-4xl",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Enlaces Rápidos"}),e.jsxs("ul",{className:"space-y-2",children:[e.jsx("li",{children:e.jsx(p,{to:"/",className:"hover:text-gray-300",children:"Inicio"})}),e.jsx("li",{children:e.jsx(p,{to:"/about",className:"hover:text-gray-300",children:"Sobre Nosotros"})}),e.jsx("li",{children:e.jsxs("a",{href:s,target:"_blank",rel:"noopener noreferrer",className:"flex items-center hover:text-gray-300",children:[e.jsx(C,{className:"mr-2"}),"Contáctenos"]})})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Información"}),e.jsxs("ul",{className:"space-y-2",children:[e.jsx("li",{children:e.jsx(p,{to:"/information/payment-methods",className:"hover:text-gray-300",children:"Métodos de pago"})}),e.jsx("li",{children:e.jsx(p,{to:"/information/shipping",className:"hover:text-gray-300",children:"Envíos"})}),e.jsx("li",{children:e.jsx(p,{to:"/information/refunds",className:"hover:text-gray-300",children:"Reembolsos"})})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Contacto"}),e.jsxs("ul",{className:"space-y-2",children:[e.jsxs("li",{children:["WhatsApp: ",t]}),e.jsx("li",{children:"Email: gatotaku2022@gmail.com"})]})]})]})]})})})};function he(){const{items:t,removeItem:s,updateQuantity:n,total:u,isOpen:r,setIsOpen:a,clearCart:x}=oe(),[j,g]=i.useState(!1);_();const b=async()=>{if(window.confirm("¿Estás seguro de realizar el pedido?"))try{g(!0);const o=t.map(d=>`• ${d.quantity}x ${d.product.name} - C$${(d.product.price*d.quantity).toFixed(2)}`).join(`
`),c=`

Total: C$${u.toFixed(2)}`,m=encodeURIComponent(`¡Hola! Me gustaría ordenar:
${o}${c}`);window.open(`https://wa.me/50578364365?text=${m}`,"_blank"),x(),a(!1),I.success("¡Pedido enviado exitosamente!")}catch{I.error("Error al procesar el pedido")}finally{g(!1)}};return e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>a(!0),className:`fixed bottom-[7.5rem] right-4 sm:bottom-6 sm:right-6 md:bottom-8 md:right-8 lg:bottom-10 lg:right-10 z-50 \r
                 bg-black/50 backdrop-blur-sm text-white p-3 rounded-full shadow-lg hover:bg-black/70 \r
                 transition-all duration-300 hover:scale-110`,"aria-label":"Abrir carrito",children:e.jsxs("div",{className:"relative",children:[e.jsx(S,{className:"text-white text-2xl opacity-80"}),t.length>0&&e.jsx("span",{className:"absolute -top-2 -right-2 bg-red-500 text-white text-xs w-5 h-5 rounded-full flex items-center justify-center",children:t.length})]})}),r&&e.jsxs("div",{className:"fixed inset-0 z-[100] overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50 transition-opacity duration-300",onClick:()=>a(!1)}),e.jsx("div",{className:"fixed inset-y-0 right-0 max-w-full flex",children:e.jsx("div",{className:"w-screen max-w-md transform transition-transform duration-300 translate-x-0",children:e.jsxs("div",{className:"h-full flex flex-col bg-white shadow-xl",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 border-b",children:[e.jsxs("h2",{className:"text-xl font-bold flex items-center",children:[e.jsx(S,{className:"mr-2"}),"Carrito de Compras"]}),e.jsx("button",{onClick:()=>a(!1),className:"p-2 hover:bg-gray-100 rounded-full","aria-label":"Cerrar carrito",children:e.jsx(E,{})})]}),e.jsx("div",{className:"flex-grow overflow-y-auto p-4",children:t.length===0?e.jsxs("div",{className:"text-center text-gray-500 py-8",children:[e.jsx(S,{className:"mx-auto mb-4 h-12 w-12 opacity-50"}),e.jsx("p",{children:"Tu carrito está vacío"})]}):e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:()=>{window.confirm("¿Estás seguro de vaciar el carrito?")&&x()},className:"mb-4 text-red-500 hover:text-red-700 flex items-center",children:[e.jsx(G,{className:"mr-2",size:16}),"Vaciar carrito"]}),t.map(o=>e.jsxs("div",{className:"flex items-center justify-between border-b py-2",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("img",{src:o.product.images[0],alt:o.product.name,className:"w-16 h-16 object-cover mr-4"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold",children:o.product.name}),e.jsxs("p",{children:["C$",o.product.price.toFixed(2)]})]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("button",{onClick:()=>n(o.product.id,o.quantity-1),className:"p-1 bg-gray-200 rounded-l",disabled:o.quantity<=1,children:e.jsx(K,{size:16})}),e.jsx("span",{className:"px-3 py-1 bg-gray-100",children:o.quantity}),e.jsx("button",{onClick:()=>n(o.product.id,o.quantity+1),className:"p-1 bg-gray-200 rounded-r",disabled:o.quantity>=o.product.stock,children:e.jsx(W,{size:16})}),e.jsx("button",{onClick:()=>s(o.product.id),className:"ml-2 text-red-500 hover:text-red-700",children:e.jsx(E,{size:16})})]})]},o.product.id))]})}),t.length>0&&e.jsxs("div",{className:"p-4 border-t",children:[e.jsxs("div",{className:"flex justify-between mb-4",children:[e.jsx("span",{className:"font-bold",children:"Total:"}),e.jsxs("span",{children:["C$",u.toFixed(2)]})]}),e.jsxs("button",{onClick:b,disabled:j,className:`w-full bg-green-500 text-white py-2 rounded hover:bg-green-600 \r
                               transition-colors flex items-center justify-center disabled:opacity-50`,children:[j?e.jsx(J,{className:"animate-spin mr-2",size:16}):null,"Ordenar por WhatsApp"]})]})]})})})]})]})}function pe({children:t}){const{session:s,loading:n}=F();return n?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-orange-500"})}):s?e.jsx(e.Fragment,{children:t}):e.jsx(Q,{to:"/login",replace:!0})}const fe=()=>e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-orange-500"})}),v=t=>{const s=i.lazy(t);return e.jsx(i.Suspense,{fallback:e.jsx(fe,{}),children:e.jsx(s,{})})},ge=()=>{const t=_();return i.useEffect(()=>{window.scrollTo(0,0)},[t.pathname]),null},je=()=>e.jsxs(e.Fragment,{children:[e.jsx(ge,{}),e.jsxs(V,{children:[e.jsx(y,{path:"/",element:v(()=>N(()=>import("./StoreFront-CZ6WctMd.js"),__vite__mapDeps([0,1,2])))}),e.jsx(y,{path:"/about",element:v(()=>N(()=>import("./About-DIxenYAa.js"),__vite__mapDeps([3,1,2])))}),e.jsx(y,{path:"/login",element:v(()=>N(()=>import("./LoginPage-ioNEWFYu.js"),__vite__mapDeps([4,1,2])))}),e.jsx(y,{path:"/admin",element:e.jsx(pe,{children:v(()=>N(()=>import("./AdminPanel-By_e4BXO.js"),__vite__mapDeps([5,1,2])))})}),e.jsx(y,{path:"/information/*",element:v(()=>N(()=>import("./Information-DIy0Wk6j.js"),__vite__mapDeps([6,1,2,3])))})]})]});function be(){return e.jsx(B,{client:te,children:e.jsx(Y,{children:e.jsxs("div",{className:"bg-gray-100",children:[e.jsx("a",{href:"#main-content",className:"sr-only focus:not-sr-only",children:"Skip to main content"}),e.jsx(ie,{title:"GATOTAKU - Tu Tienda de Anime",description:"Tienda online de productos de anime y manga. Encuentra los mejores artículos de tus series favoritas.",openGraph:{title:"GATOTAKU",description:"Tu Tienda de Anime",image:"url-to-your-og-image"}}),e.jsx(ne,{children:e.jsx(ae,{children:e.jsx(Z,{children:e.jsxs("div",{className:"flex flex-col min-h-screen",children:[e.jsx(xe,{}),e.jsx(i.Suspense,{fallback:e.jsx("div",{children:"Loading..."}),children:e.jsx("main",{id:"main-content",className:"flex-grow pt-8",children:e.jsx(je,{})})}),e.jsx(me,{}),e.jsx(he,{}),e.jsx(X,{position:"top-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,theme:"colored"})]})})})})]})})})}ee.createRoot(document.getElementById("root")).render(e.jsx(i.StrictMode,{children:e.jsx(be,{})}));export{ie as S,F as a,k as s,oe as u};
