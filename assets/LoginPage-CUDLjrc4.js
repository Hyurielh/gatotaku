import{r as t,u as g,p as f,j as e}from"./vendor-C12UJ_lp.js";import{a as h,s as b}from"./index-7rvPW3i2.js";function w(){const[n,m]=t.useState(""),[o,x]=t.useState(""),[l,i]=t.useState(null),[s,c]=t.useState(!1),d=g(),{session:u}=h();f.useEffect(()=>{u&&d("/admin",{replace:!0})},[u,d]);async function p(r){if(r.preventDefault(),!s){i(null),c(!0);try{const{error:a}=await b.auth.signInWithPassword({email:n,password:o});if(a)throw a}catch(a){i(a.message)}finally{c(!1)}}}return e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"max-w-md w-full space-y-8",children:[e.jsxs("div",{children:[e.jsx("div",{className:"w-24 h-24 mx-auto bg-white rounded-full flex items-center justify-center",children:e.jsx("img",{src:"./logo.png",className:"w-24 h-24 rounded-full",alt:"logo gatotaku"})}),e.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Iniciar sesión"})]}),l&&e.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative",role:"alert",children:e.jsx("span",{className:"block sm:inline",children:l})}),e.jsxs("form",{className:"mt-8 space-y-6",onSubmit:p,children:[e.jsxs("div",{className:"rounded-md shadow-sm -space-y-px",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"sr-only",children:"Correo electrónico"}),e.jsx("input",{id:"email",name:"email",type:"email",required:!0,value:n,onChange:r=>m(r.target.value),className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-orange-500 focus:border-orange-500 focus:z-10 sm:text-sm",placeholder:"Correo electrónico",disabled:s,"aria-label":"Correo electrónico"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"sr-only",children:"Contraseña"}),e.jsx("input",{id:"password",name:"password",type:"password",required:!0,value:o,onChange:r=>x(r.target.value),className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-orange-500 focus:border-orange-500 focus:z-10 sm:text-sm",placeholder:"Contraseña",disabled:s,"aria-label":"Contraseña"})]})]}),e.jsx("div",{children:e.jsx("button",{type:"submit",disabled:s,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-orange-600 hover:bg-orange-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-orange-500 disabled:opacity-50","aria-label":s?"Iniciando sesión...":"Iniciar sesión",children:s?e.jsxs("span",{className:"flex items-center",children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","aria-hidden":"true",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Iniciando sesión..."]}):"Iniciar sesión"})})]})]})})}export{w as default};
